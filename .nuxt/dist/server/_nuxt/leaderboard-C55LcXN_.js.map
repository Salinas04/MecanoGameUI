{"version":3,"file":"leaderboard-C55LcXN_.js","sources":["../../../../pages/leaderboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-3xl mx-auto\">\r\n    <div class=\"text-center mb-8\">\r\n      <h1 class=\"text-3xl font-bold text-gray-800 dark:text-white mb-2 relative inline-block\">\r\n        Leaderboard\r\n        <span class=\"absolute -top-2 -right-8 w-7 h-7 bg-yellow-500 rounded-full flex items-center justify-center text-xs text-white font-bold shadow-md animate-pulse\">\r\n          #1\r\n        </span>\r\n      </h1>\r\n      <p class=\"text-gray-600 dark:text-gray-300\">Top typing speeds with our community's best typists</p>\r\n    </div>\r\n\r\n    <!-- Leaderboard Container -->\r\n    <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6\">\r\n      <div v-if=\"loading\" class=\"text-center py-8\">\r\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600\"></div>\r\n        <p class=\"mt-2 text-gray-600 dark:text-gray-400\">Loading scores...</p>\r\n      </div>\r\n\r\n      <div v-else-if=\"error\" class=\"text-center py-8\">\r\n        <p class=\"text-red-500\">{{ error }}</p>\r\n        <button \r\n          @click=\"fetchScores\" \r\n          class=\"mt-4 bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md transition-colors\"\r\n        >\r\n          Try Again\r\n        </button>\r\n      </div>\r\n\r\n      <div v-else-if=\"scores.length === 0\" class=\"text-center py-8\">\r\n        <p class=\"text-gray-600 dark:text-gray-400\">No scores yet. Be the first to submit your score!</p>\r\n        <NuxtLink \r\n          to=\"/\" \r\n          class=\"mt-4 inline-block bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-md transition-colors\"\r\n        >\r\n          Play Now\r\n        </NuxtLink>\r\n      </div>\r\n\r\n      <div v-else>\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"w-full\">\r\n            <thead>\r\n              <tr class=\"border-b border-gray-200 dark:border-gray-700\">\r\n                <th class=\"px-4 py-3 text-left text-gray-700 dark:text-gray-300\">Rank</th>\r\n                <th class=\"px-4 py-3 text-left text-gray-700 dark:text-gray-300\">Photo</th>\r\n                <th class=\"px-4 py-3 text-left text-gray-700 dark:text-gray-300\">Name</th>\r\n                <th class=\"px-4 py-3 text-right text-gray-700 dark:text-gray-300\">WPM</th>\r\n                <th class=\"px-4 py-3 text-right text-gray-700 dark:text-gray-300\">Accuracy</th>\r\n                <th class=\"px-4 py-3 text-right text-gray-700 dark:text-gray-300\">Errors</th>\r\n                <th class=\"px-4 py-3 text-right text-gray-700 dark:text-gray-300\">Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr \r\n                v-for=\"(score, index) in scores\" \r\n                :key=\"index\"\r\n                class=\"border-b border-gray-100 dark:border-gray-800 transition-all duration-300 cursor-pointer\"\r\n                :class=\"{\r\n                  'bg-yellow-50 dark:bg-yellow-900/20 hover:bg-yellow-100 dark:hover:bg-yellow-900/30': index === 0,\r\n                  'bg-gray-50 dark:bg-gray-700/30 hover:bg-gray-100 dark:hover:bg-gray-700/50': index === 1,\r\n                  'bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30': index === 2,\r\n                  'hover:bg-gray-50 dark:hover:bg-gray-750': index > 2\r\n                }\"\r\n                @mouseenter=\"score.highlight = true\" \r\n                @mouseleave=\"score.highlight = false\"\r\n              >\r\n                <td class=\"px-4 py-3 text-gray-800 dark:text-gray-200\">{{ index + 1 }}</td>\r\n                <td class=\"px-4 py-3\">\r\n                  <div class=\"relative group\">\r\n                    <img \r\n                      :src=\"getProfilePictureUrl(score.user)\" \r\n                      :alt=\"`${score.name}'s profile picture`\"\r\n                      class=\"w-10 h-10 rounded-full object-cover border-2 transition-transform duration-300 transform group-hover:scale-110\"\r\n                      :class=\"isCurrentUser(score) ? 'border-primary-500' : 'border-gray-200 dark:border-gray-700'\"\r\n                    />\r\n                    <!-- Rank badge for top 3 -->\r\n                    <div v-if=\"index < 3\" class=\"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-md\"\r\n                      :class=\"{\r\n                        'bg-yellow-500': index === 0,\r\n                        'bg-gray-400': index === 1,\r\n                        'bg-amber-600': index === 2\r\n                      }\">\r\n                      {{ index + 1 }}\r\n                    </div>\r\n                    <!-- Current user indicator -->\r\n                    <div v-else-if=\"isCurrentUser(score)\" class=\"absolute -top-1 -right-1 w-4 h-4 bg-primary-500 rounded-full border border-white dark:border-gray-800\"></div>\r\n\r\n                    <!-- Tooltip -->\r\n                    <div class=\"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-48 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10 text-center\">\r\n                      <div class=\"font-bold text-gray-800 dark:text-white\">{{ score.name }}</div>\r\n                      <div class=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                        <div class=\"flex justify-between mt-1\">\r\n                          <span>WPM:</span>\r\n                          <span class=\"font-semibold text-primary-600\">{{ score.wpm }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                          <span>Accuracy:</span>\r\n                          <span>{{ score.accuracy }}%</span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"absolute left-1/2 -bottom-1 w-2 h-2 bg-white dark:bg-gray-800 transform rotate-45 -translate-x-1/2\"></div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"px-4 py-3 font-medium\">\r\n                  <span \r\n                    :class=\"{\r\n                      'text-primary-600 dark:text-primary-400 font-bold': isCurrentUser(score),\r\n                      'text-gray-800 dark:text-gray-200': !isCurrentUser(score)\r\n                    }\"\r\n                  >\r\n                    {{ score.name }}\r\n                    <span v-if=\"isCurrentUser(score)\" class=\"ml-2 text-xs bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 py-1 px-2 rounded-full\">You</span>\r\n                  </span>\r\n                </td>\r\n                <td class=\"px-4 py-3 text-right\">\r\n                  <span \r\n                    class=\"inline-block font-bold transition-all duration-300\"\r\n                    :class=\"{\r\n                      'text-primary-600 dark:text-primary-400 transform scale-110': score.highlight,\r\n                      'text-primary-600 dark:text-primary-400': !score.highlight\r\n                    }\"\r\n                  >\r\n                    {{ score.wpm }}\r\n                  </span>\r\n                </td>\r\n                <td class=\"px-4 py-3 text-right text-gray-800 dark:text-gray-200\">{{ score.accuracy }}%</td>\r\n                <td class=\"px-4 py-3 text-right text-gray-800 dark:text-gray-200\">{{ score.errors }}</td>\r\n                <td class=\"px-4 py-3 text-right text-gray-600 dark:text-gray-400 text-sm\">\r\n                  {{ formatDate(score.date) }}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"mt-6 text-center\">\r\n          <NuxtLink \r\n            to=\"/\" \r\n            class=\"bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-6 rounded-md transition-colors\"\r\n          >\r\n            Play Again\r\n          </NuxtLink>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useApi } from '~/composables/useApi';\r\nimport { useAuth } from '~/composables/useAuth';\r\n\r\n// Define page metadata for SEO\r\ndefinePageMeta({\r\n  title: 'TypingRush - Leaderboard',\r\n  description: 'See the top typing speeds on TypingRush'\r\n});\r\n\r\nconst { loading, error, getTopScores, getProfilePictureUrl } = useApi();\r\nconst { user, isAuthenticated } = useAuth();\r\nconst scores = ref([]);\r\n\r\n// Check if a score belongs to the current user\r\nfunction isCurrentUser(score) {\r\n  if (!isAuthenticated.value || !user.value || !score.user) {\r\n    return false;\r\n  }\r\n  return score.user === user.value._id;\r\n}\r\n\r\n// Format date for display\r\nfunction formatDate(dateString) {\r\n  if (!dateString) return 'N/A';\r\n\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString(undefined, { \r\n    year: 'numeric', \r\n    month: 'short', \r\n    day: 'numeric' \r\n  });\r\n}\r\n\r\n// Fetch scores from API\r\nasync function fetchScores() {\r\n  try {\r\n    const data = await getTopScores();\r\n    // Initialize additional properties for interactivity\r\n    scores.value = (data || []).map(score => ({\r\n      ...score,\r\n      highlight: false\r\n    }));\r\n  } catch (err) {\r\n    console.error('Error fetching scores:', err);\r\n  }\r\n}\r\n\r\n// Load scores on component mount\r\nonMounted(() => {\r\n  fetchScores();\r\n});\r\n</script>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_push","_parent","_ssrRenderAttr","_ssrRenderClass","_ssrInterpolate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAiKA,UAAM,EAAE,SAAS,OAAqB,qBAAoB,IAAK,OAAM;AACrE,UAAM,EAAE,MAAM,oBAAoB;AAClC,UAAM,SAAS,IAAI,CAAA,CAAE;AAGrB,aAAS,cAAc,OAAO;AAC5B,UAAI,CAAC,gBAAgB,SAAS,CAAC,KAAK,SAAS,CAAC,MAAM,MAAM;AACxD,eAAO;AAAA,MACT;AACA,aAAO,MAAM,SAAS,KAAK,MAAM;AAAA,IACnC;AAGA,aAAS,WAAW,YAAY;AAC9B,UAAI,CAAC,WAAY,QAAO;AAExB,YAAM,OAAO,IAAI,KAAK,UAAU;AAChC,aAAO,KAAK,mBAAmB,QAAW;AAAA,QACxC,MAAM;AAAA,QACN,OAAO;AAAA,QACP,KAAK;AAAA,MACT,CAAG;AAAA,IACH;;;AAtLO,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,uBAAmB,MAAA,CAAA,CAAA,weAAA;UAafC,MAAA,OAAA,GAAO;;iBAKFA,MAAA,KAAA,GAAK;sFACQA,MAAA,KAAA,CAAK,CAAA,uJAAA;AAAA,MASlB,WAAA,OAAA,MAAO,WAAM,GAAA;;;UAGzB,IAAG;AAAA,UACH,OAAM;AAAA;2BAFR,CAKW,GAAAC,QAAAC,UAAA,aAAA;;;;;gCAFV,YAED;AAAA;;;;;;;;sBAmBiC,OAAA,OAAM,CAAvB,OAAO,UAAK;;kGAG+F,UAAK;AAAA,0FAAyG,UAAK;AAAA,8FAA6G,UAAK;AAAA,uDAAsE,QAAK;AAAA,oLASzW,QAAK,CAAA,+DAIxDC,cAAA,OAAKH,MAAA,oBAAA,EAAqB,MAAM,IAAI,CAAA,kBACpC,OAAG,GAAK,MAAM,IAAI,oBAAA,YAEXI,eAAA,CAAA,cAAc,KAAK,IAAA,uBAAA,wCAAA,gHAAA,CAAA;cAGlB,QAAK,GAAA;;+BACsC,UAAK;AAAA,6BAAgD,UAAK;AAAA,8BAAiD,UAAK;AAAA,4JAKjK,QAAK,CAAA;UAGM,WAAA,cAAc,KAAK,GAAA;;;;;8SAIuBC,eAAA,MAAM,IAAI,qKAIdA,eAAA,MAAM,GAAG,+EAIhDA,eAAA,MAAM,QAAQ;YASwD,oDAAA,cAAc,KAAK;AAAA,YAA+D,oCAAA,CAAA,cAAc,KAAK;AAAA,iBAKvLA,eAAA,MAAM,IAAI;AACD,cAAA,cAAc,KAAK,GAAA;;;;;;YAMgE,8DAAA,MAAM;AAAA,YAA6E,0CAAA,CAAA,MAAM;AAAA,wEAKrLA,eAAA,MAAM,GAAG,kFAGqDA,eAAA,MAAM,QAAQ,4EACdA,eAAA,MAAM,MAAM,kGAE5E,WAAW,MAAM,IAAI,CAAA;;;;UAS9B,IAAG;AAAA,UACH,OAAM;AAAA;2BAFR,CAKW,GAAAJ,QAAAC,UAAA,aAAA;;;;;gCAFV,cAED;AAAA;;;;;;;;;;;;;;;;;"}