import{_ as K}from"./Br3K3lNa.js";import{_ as pe}from"./7JPf2CYG.js";import{M as fe,j as H,N as ve,O as ye,P as ge,Q as he,r as D,R as me,g as B,S as E,p as L,T as re,E as oe,C as se,D as Q,l as J,y as ae,c as r,o,m as C,z as R,a as s,t as O,F as T,n as ne,s as ie,b as m,w as b,d as M,k as ke,U as xe,K as we}from"./AkD5g4Ve.js";import{u as Z}from"./6njsMXsu.js";const be=fe("/TypingRushLogo.png");function le(t){return ve()?(ye(t),!0):!1}const de=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const _e=Object.prototype.toString,$e=t=>_e.call(t)==="[object Object]",z=()=>{},X=Me();function Me(){var t,n;return de&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ce(...t){if(t.length!==1)return ge(...t);const n=t[0];return typeof n=="function"?he(me(()=>({get:n,set:z}))):D(n)}function U(t){return Array.isArray(t)?t:[t]}function je(t,n,l){return H(t,n,{...l,immediate:!0})}const ue=de?window:void 0;function W(t){var n;const l=E(t);return(n=l==null?void 0:l.$el)!=null?n:l}function I(...t){const n=[],l=()=>{n.forEach(u=>u()),n.length=0},f=(u,p,c,_)=>(u.addEventListener(p,c,_),()=>u.removeEventListener(p,c,_)),k=B(()=>{const u=U(E(t[0])).filter(p=>p!=null);return u.every(p=>typeof p!="string")?u:void 0}),y=je(()=>{var u,p;return[(p=(u=k.value)==null?void 0:u.map(c=>W(c)))!=null?p:[ue].filter(c=>c!=null),U(E(k.value?t[1]:t[0])),U(L(k.value?t[2]:t[1])),E(k.value?t[3]:t[2])]},([u,p,c,_])=>{if(l(),!(u!=null&&u.length)||!(p!=null&&p.length)||!(c!=null&&c.length))return;const $=$e(_)?{..._}:_;n.push(...u.flatMap(N=>p.flatMap(A=>c.map(e=>f(N,A,e,$)))))},{flush:"post"}),j=()=>{y(),l()};return le(l),j}let ee=!1;function te(t,n,l={}){const{window:f=ue,ignore:k=[],capture:y=!0,detectIframe:j=!1,controls:u=!1}=l;if(!f)return u?{stop:z,cancel:z,trigger:z}:z;if(X&&!ee){ee=!0;const i={passive:!0};Array.from(f.document.body.children).forEach(d=>d.addEventListener("click",z,i)),f.document.documentElement.addEventListener("click",z,i)}let p=!0;const c=i=>E(k).some(d=>{if(typeof d=="string")return Array.from(f.document.querySelectorAll(d)).some(a=>a===i.target||i.composedPath().includes(a));{const a=W(d);return a&&(i.target===a||i.composedPath().includes(a))}});function _(i){const d=E(i);return d&&d.$.subTree.shapeFlag===16}function $(i,d){const a=E(i),x=a.$.subTree&&a.$.subTree.children;return x==null||!Array.isArray(x)?!1:x.some(v=>v.el===d.target||d.composedPath().includes(v.el))}const N=i=>{const d=W(t);if(i.target!=null&&!(!(d instanceof Element)&&_(t)&&$(t,i))&&!(!d||d===i.target||i.composedPath().includes(d))){if("detail"in i&&i.detail===0&&(p=!c(i)),!p){p=!0;return}n(i)}};let A=!1;const e=[I(f,"click",i=>{A||(A=!0,setTimeout(()=>{A=!1},0),N(i))},{passive:!0,capture:y}),I(f,"pointerdown",i=>{const d=W(t);p=!c(i)&&!!(d&&!i.composedPath().includes(d))},{passive:!0}),j&&I(f,"blur",i=>{setTimeout(()=>{var d;const a=W(t);((d=f.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(a!=null&&a.contains(f.document.activeElement))&&n(i)},0)},{passive:!0})].filter(Boolean),h=()=>e.forEach(i=>i());return u?{stop:h,cancel:()=>{p=!1},trigger:i=>{p=!0,N(i),p=!1}}:h}const q=new WeakMap,Ne={mounted(t,n){const l=!n.modifiers.bubble;let f;if(typeof n.value=="function")f=te(t,n.value,{capture:l});else{const[k,y]=n.value;f=te(t,k,Object.assign({capture:l},y))}q.set(t,f)},unmounted(t){const n=q.get(t);n&&typeof n=="function"?n():n==null||n.stop(),q.delete(t)}};function G(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function ce(t){const n=window.getComputedStyle(t);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&t.clientWidth<t.scrollWidth||n.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const l=t.parentNode;return!l||l.tagName==="BODY"?!1:ce(l)}}function Ae(t){const n=t||window.event,l=n.target;return ce(l)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const Y=new WeakMap;function Le(t,n=!1){const l=re(n);let f=null,k="";H(Ce(t),u=>{const p=G(E(u));if(p){const c=p;if(Y.get(c)||Y.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(k=c.style.overflow),c.style.overflow==="hidden")return l.value=!0;if(l.value)return c.style.overflow="hidden"}},{immediate:!0});const y=()=>{const u=G(E(t));!u||l.value||(X&&(f=I(u,"touchmove",p=>{Ae(p)},{passive:!1})),u.style.overflow="hidden",l.value=!0)},j=()=>{const u=G(E(t));!u||!l.value||(X&&(f==null||f()),u.style.overflow=k,Y.delete(u),l.value=!1)};return le(j),B({get(){return l.value},set(u){u?y():j()}})}function De(){let t=!1;const n=re(!1);return(l,f)=>{if(n.value=f.value,t)return;t=!0;const k=Le(l,f.value);H(n,y=>k.value=y)}}De();const Re={class:"relative"},Ee={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full z-10"},Pe={key:0,class:"absolute right-0 mt-2 w-full sm:w-80 max-w-[95vw] sm:max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden z-50"},Se={class:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"},ze={class:"max-h-96 overflow-y-auto"},Oe={key:0,class:"flex justify-center py-4"},Te={key:1,class:"p-4 text-center text-gray-500 dark:text-gray-400"},Be={key:2},Ve=["onClick"],We={class:"flex items-start"},He={key:0,class:"flex-shrink-0"},Ie=["src"],Fe={key:1,class:"flex-shrink-0"},Ue={class:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white"},qe={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ge={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},Ye={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},Xe={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},Ke={key:3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},Qe={class:"ml-3 flex-1"},Je={class:"text-sm text-gray-800 dark:text-white"},Ze={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},et={key:2,class:"ml-2 w-2 h-2 bg-primary-600 rounded-full"},tt={class:"p-2 border-t border-gray-200 dark:border-gray-700 text-center"},rt={__name:"NotificationsDropdown",setup(t){const n=oe(),l=se(),{getNotifications:f,markNotificationsAsRead:k,getProfilePictureUrl:y}=Z(),{notifications:j,unreadNotificationsCount:u,markNotificationsAsRead:p}=Q(),c=D(!1),_=D([]),$=D(!1),N=B(()=>u.value),A=B(()=>_.value.some(v=>!v.read));H(j,v=>{v.length>0&&(_.value=[...v])},{deep:!0}),J(async()=>{await e()});async function e(){if(c.value){$.value=!0;try{const v=await f();_.value=v}catch(v){l.error("Failed to load notifications"),console.error(v)}finally{$.value=!1}}}function h(){c.value=!c.value,c.value&&e()}function i(){c.value=!1}async function d(){try{p(),await k(),_.value.forEach(v=>{v.read=!0})}catch(v){l.error("Failed to mark notifications as read"),console.error(v)}}function a(v){v.type==="friend_request"||v.type==="friend_accepted"?n.push("/friends"):v.type==="message"&&v.sender&&n.push(`/chat/${v.sender._id}`),v.read||(v.read=!0,u.value>0&&u.value--),i()}function x(v){if(!v)return"";const g=new Date(v),S=new Date-g,w=Math.floor(S/6e4);if(w<1)return"just now";if(w<60)return`${w} minute${w===1?"":"s"} ago`;const V=Math.floor(w/60);if(V<24)return`${V} hour${V===1?"":"s"} ago`;const F=Math.floor(V/24);return F<7?`${F} day${F===1?"":"s"} ago`:g.toLocaleDateString()}return(v,g)=>{const P=K,S=ae("motion");return o(),r("div",Re,[C((o(),r("button",{onClick:h,class:"relative p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}}},[g[0]||(g[0]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),N.value>0?(o(),r("span",Ee,O(N.value>99?"99+":N.value),1)):R("",!0)])),[[S]]),c.value?C((o(),r("div",Pe,[s("div",Se,[g[1]||(g[1]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Notifications",-1)),_.value.length>0&&A.value?(o(),r("button",{key:0,onClick:d,class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300"}," Mark all as read ")):R("",!0)]),s("div",ze,[$.value?(o(),r("div",Oe,g[2]||(g[2]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):_.value.length===0?(o(),r("div",Te," No notifications ")):(o(),r("div",Be,[(o(!0),r(T,null,ne(_.value,w=>(o(),r("div",{key:w._id,class:ie(["p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",{"bg-blue-50 dark:bg-blue-900/10":!w.read}]),onClick:V=>a(w)},[s("div",We,[w.sender?(o(),r("div",He,[s("img",{src:L(y)(w.sender),alt:"Profile",class:"w-10 h-10 rounded-full object-cover"},null,8,Ie)])):(o(),r("div",Fe,[s("div",Ue,[(o(),r("svg",qe,[w.type==="friend_request"?(o(),r("path",Ge)):w.type==="friend_accepted"?(o(),r("path",Ye)):w.type==="message"?(o(),r("path",Xe)):(o(),r("path",Ke))]))])])),s("div",Qe,[s("p",Je,O(w.content),1),s("p",Ze,O(x(w.createdAt)),1)]),w.read?R("",!0):(o(),r("div",et))])],10,Ve))),128))]))]),s("div",tt,[m(P,{to:"/friends",class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",onClick:i},{default:b(()=>g[3]||(g[3]=[M(" View all notifications ")])),_:1,__:[3]})])])),[[L(Ne),i]]):R("",!0)])}}},ot={class:"w-full"},st={class:"border-b border-gray-200 dark:border-gray-700 flex justify-between items-center pb-3"},at={class:"flex items-center"},nt={class:"max-h-60 overflow-y-auto mt-3"},it={key:0,class:"flex justify-center py-4"},lt={key:1,class:"p-4 text-center text-gray-500 dark:text-gray-400"},dt={key:2},ut=["onClick"],ct={class:"flex items-start"},pt={key:0,class:"flex-shrink-0"},ft=["src"],vt={key:1,class:"flex-shrink-0"},yt={class:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white"},gt={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ht={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},mt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"},kt={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"},xt={key:3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},wt={class:"ml-3 flex-1"},bt={class:"text-sm text-gray-800 dark:text-white"},_t={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},$t={key:2,class:"ml-2 w-2 h-2 bg-primary-600 rounded-full"},Mt={class:"pt-3 border-t border-gray-200 dark:border-gray-700 text-center mt-3"},Ct={__name:"NotificationsDropdownMobile",emits:["close"],setup(t,{emit:n}){const l=n,f=oe(),k=se(),{getNotifications:y,markNotificationsAsRead:j,getProfilePictureUrl:u}=Z(),{notifications:p,unreadNotificationsCount:c,markNotificationsAsRead:_}=Q(),$=D([]),N=D(!1),A=B(()=>$.value.some(a=>!a.read));H(p,a=>{a.length>0&&($.value=[...a])},{deep:!0}),J(async()=>{await e()});async function e(){N.value=!0;try{const a=await y();$.value=a}catch(a){k.error("Failed to load notifications"),console.error(a)}finally{N.value=!1}}async function h(){try{_(),await j(),$.value.forEach(a=>{a.read=!0})}catch(a){k.error("Failed to mark notifications as read"),console.error(a)}}function i(a){a.type==="friend_request"||a.type==="friend_accepted"?f.push("/friends"):a.type==="message"&&a.sender&&f.push(`/chat/${a.sender._id}`),a.read||(a.read=!0,c.value>0&&c.value--),l("close")}function d(a){if(!a)return"";const x=new Date(a),g=new Date-x,P=Math.floor(g/6e4);if(P<1)return"just now";if(P<60)return`${P} minute${P===1?"":"s"} ago`;const S=Math.floor(P/60);if(S<24)return`${S} hour${S===1?"":"s"} ago`;const w=Math.floor(S/24);return w<7?`${w} day${w===1?"":"s"} ago`:x.toLocaleDateString()}return(a,x)=>{const v=K;return o(),r("div",ot,[s("div",st,[x[3]||(x[3]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Notifications",-1)),s("div",at,[$.value.length>0&&A.value?(o(),r("button",{key:0,onClick:h,class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 mr-3"}," Mark all as read ")):R("",!0),s("button",{onClick:x[0]||(x[0]=g=>a.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},x[2]||(x[2]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),s("div",nt,[N.value?(o(),r("div",it,x[4]||(x[4]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):$.value.length===0?(o(),r("div",lt," No notifications ")):(o(),r("div",dt,[(o(!0),r(T,null,ne($.value,g=>(o(),r("div",{key:g._id,class:ie(["p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",{"bg-blue-50 dark:bg-blue-900/10":!g.read}]),onClick:P=>i(g)},[s("div",ct,[g.sender?(o(),r("div",pt,[s("img",{src:L(u)(g.sender),alt:"Profile",class:"w-10 h-10 rounded-full object-cover"},null,8,ft)])):(o(),r("div",vt,[s("div",yt,[(o(),r("svg",gt,[g.type==="friend_request"?(o(),r("path",ht)):g.type==="friend_accepted"?(o(),r("path",mt)):g.type==="message"?(o(),r("path",kt)):(o(),r("path",xt))]))])])),s("div",wt,[s("p",bt,O(g.content),1),s("p",_t,O(d(g.createdAt)),1)]),g.read?R("",!0):(o(),r("div",$t))])],10,ut))),128))]))]),s("div",Mt,[m(v,{to:"/friends",class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",onClick:x[1]||(x[1]=g=>a.$emit("close"))},{default:b(()=>x[5]||(x[5]=[M(" View all notifications ")])),_:1,__:[5]})])])}}},jt={class:"flex flex-col min-h-screen"},Nt={class:"bg-glass-light dark:bg-glass-dark backdrop-blur-md border-b border-white/10 dark:border-gray-800/30 shadow-glass z-10 sticky top-0"},At={class:"container mx-auto px-4 py-3 flex justify-between items-center"},Lt={class:"flex items-center"},Dt={class:"flex items-center"},Rt={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Et={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Pt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},St={class:"hidden md:flex items-center space-x-1 mr-4"},zt={class:"flex items-center space-x-2"},Ot={class:"text-yellow-400",initial:{rotate:-180,opacity:0},enter:{rotate:0,opacity:1,transition:{type:"spring",stiffness:300,damping:15}},leave:{rotate:180,opacity:0,transition:{duration:300}},key:"sun-icon"},Tt={class:"text-gray-700",initial:{rotate:180,opacity:0},enter:{rotate:0,opacity:1,transition:{type:"spring",stiffness:300,damping:15}},leave:{rotate:-180,opacity:0,transition:{duration:300}},key:"moon-icon"},Bt={class:"w-9 h-9 rounded-full overflow-hidden border-2 border-primary-500 hover:border-primary-600 transition-all duration-300 flex items-center justify-center",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}}},Vt=["src","alt"],Wt={key:1,class:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400"},Ht={key:0,class:"md:hidden fixed inset-x-0 top-[61px] bg-glass-light dark:bg-glass-dark backdrop-blur-md border-b border-white/10 dark:border-gray-800/30 shadow-glass z-10",initial:{opacity:0,y:-20},enter:{opacity:1,y:0,transition:{duration:200}},leave:{opacity:0,y:-20,transition:{duration:150}},"data-mobile-menu":""},It={class:"container mx-auto px-4 py-2"},Ft={class:"flex flex-col space-y-1"},Ut={class:"flex items-center justify-between"},qt={key:0,class:"bg-primary-600 text-white text-xs font-medium px-2.5 py-0.5 rounded-full"},Gt={key:0,class:"px-4 py-2"},Yt={class:"flex-grow container mx-auto px-4 py-8"},Xt={class:"bg-glass-light dark:bg-glass-dark backdrop-blur-md border-t border-white/10 dark:border-gray-800/30 shadow-glass-inner py-6"},Kt={class:"container mx-auto px-4 text-center text-gray-600 dark:text-gray-400"},Qt={key:1,class:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},enter:{opacity:1,transition:{duration:300}},leave:{opacity:0,transition:{duration:200}}},Jt={class:"bg-glass-light dark:bg-glass-dark backdrop-blur-lg rounded-2xl shadow-glass-lg border border-white/20 dark:border-gray-700/30 max-w-md w-full p-6 relative overflow-hidden",initial:{scale:.9,opacity:0,y:-20},enter:{scale:1,opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:20}},leave:{scale:.9,opacity:0,y:20,transition:{duration:200}}},Zt={class:"flex justify-between items-center mb-4 relative",initial:{opacity:0},enter:{opacity:1,transition:{duration:300,delay:100}}},er={class:"text-gray-700 dark:text-gray-300 space-y-3 relative",initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:400,delay:200}}},tr={class:"mt-6 relative",initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:400,delay:300}}},nr={__name:"default",setup(t){const{unreadNotificationsCount:n}=Q(),l=D(!1),f=D(!1),k=D(!1),y=D(!1),j=D(!1);function u(){k.value=!0}localStorage.getItem("darkMode")==="true"&&(l.value=!0);const{isAuthenticated:p,user:c}=ke(),{getProfilePictureUrl:_}=Z(),$=B(()=>c.value?_(c.value):"/default-avatar.png");function N(){l.value=!l.value,l.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}return J(()=>{l.value&&document.documentElement.classList.add("dark"),document.addEventListener("click",A=>{const e=A.target,h=document.querySelector("[data-mobile-menu-button]"),i=document.querySelector("[data-mobile-menu]");y.value&&i&&h&&!i.contains(e)&&!h.contains(e)&&(y.value=!1)})}),(A,e)=>{const h=K,i=pe,d=ae("motion");return o(),r("div",jt,[s("header",Nt,[s("div",At,[s("div",Lt,[m(h,{to:"/",class:"flex items-center gap-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-500 transition-all duration-300"},{default:b(()=>e[13]||(e[13]=[s("img",{src:be,alt:"TypingRush Logo",class:"h-10 w-10"},null,-1),s("span",{class:"text-xl font-bold"},"TypingRush",-1)])),_:1,__:[13]})]),s("nav",Dt,[C((o(),r("button",{onClick:e[0]||(e[0]=a=>y.value=!y.value),class:"md:hidden p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 mr-2",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}},"data-mobile-menu-button":""},[(o(),r("svg",Rt,[y.value?(o(),r("path",Pt)):(o(),r("path",Et))]))])),[[d]]),s("div",St,[m(h,{to:"/",class:"px-3 py-2 rounded-lg bg-primary-600/20 text-primary-600 dark:text-primary-400 font-medium hover:bg-primary-600/30 dark:hover:bg-primary-600/30 transition-all duration-300"},{default:b(()=>e[14]||(e[14]=[M(" Play ")])),_:1,__:[14]}),m(h,{to:"/leaderboard",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[15]||(e[15]=[M(" Leaderboard ")])),_:1,__:[15]}),m(i,null,{default:b(()=>[L(p)?(o(),r(T,{key:0},[m(h,{to:"/dashboard",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[16]||(e[16]=[M(" Dashboard ")])),_:1,__:[16]}),m(h,{to:"/friends",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[17]||(e[17]=[M(" Friends ")])),_:1,__:[17]}),m(h,{to:"/profile",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[18]||(e[18]=[M(" Profile ")])),_:1,__:[18]}),m(rt)],64)):(o(),r(T,{key:1},[m(h,{to:"/login",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[19]||(e[19]=[M(" Login ")])),_:1,__:[19]}),m(h,{to:"/register",class:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300"},{default:b(()=>e[20]||(e[20]=[M(" Register ")])),_:1,__:[20]})],64))]),_:1})]),s("div",zt,[C((o(),r("button",{onClick:e[1]||(e[1]=a=>f.value=!0),class:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}}},e[21]||(e[21]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))),[[d]]),C((o(),r("button",{onClick:N,class:"p-2 rounded-lg hover:bg-white/10 dark:hover:bg-gray-700/20 transition-all duration-300",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}}},[l.value?C((o(),r("span",Ot,e[22]||(e[22]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})],-1)]))),[[d]]):C((o(),r("span",Tt,e[23]||(e[23]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})],-1)]))),[[d]])])),[[d]]),m(i,null,{default:b(()=>[m(h,{to:L(p)?"/dashboard":"/login",class:"block"},{default:b(()=>{var a;return[C((o(),r("div",Bt,[L(p)&&((a=L(c))!=null&&a.profilePicture)&&!k.value?(o(),r("img",{key:0,src:$.value,alt:L(c).username,class:"w-full h-full object-cover",onError:u},null,40,Vt)):(o(),r("div",Wt,e[24]||(e[24]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",class:"h-5 w-5"},[s("path",{fill:"currentColor",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"})],-1)])))])),[[d]])]}),_:1},8,["to"])]),_:1})])])])]),y.value?C((o(),r("div",Ht,[s("div",It,[s("div",Ft,[m(h,{to:"/",class:"px-4 py-3 rounded-lg bg-primary-600/20 text-primary-600 dark:text-primary-400 font-medium hover:bg-primary-600/30 dark:hover:bg-primary-600/30 transition-all duration-300",onClick:e[2]||(e[2]=a=>y.value=!1)},{default:b(()=>e[25]||(e[25]=[M(" Play ")])),_:1,__:[25]}),m(h,{to:"/leaderboard",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[3]||(e[3]=a=>y.value=!1)},{default:b(()=>e[26]||(e[26]=[M(" Leaderboard ")])),_:1,__:[26]}),m(i,null,{default:b(()=>[L(p)?(o(),r(T,{key:0},[m(h,{to:"/dashboard",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[4]||(e[4]=a=>y.value=!1)},{default:b(()=>e[27]||(e[27]=[M(" Dashboard ")])),_:1,__:[27]}),m(h,{to:"/profile",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[5]||(e[5]=a=>y.value=!1)},{default:b(()=>e[28]||(e[28]=[M(" Profile ")])),_:1,__:[28]}),m(h,{to:"/friends",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[6]||(e[6]=a=>y.value=!1)},{default:b(()=>e[29]||(e[29]=[M(" Friends ")])),_:1,__:[29]}),s("div",{class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[7]||(e[7]=a=>j.value=!j.value)},[s("div",Ut,[e[30]||(e[30]=s("span",null,"Notifications",-1)),L(n)>0?(o(),r("span",qt,O(L(n)>99?"99+":L(n)),1)):R("",!0)])]),j.value?(o(),r("div",Gt,[m(Ct,{onClose:e[8]||(e[8]=a=>j.value=!1)})])):R("",!0)],64)):(o(),r(T,{key:1},[m(h,{to:"/login",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[9]||(e[9]=a=>y.value=!1)},{default:b(()=>e[31]||(e[31]=[M(" Login ")])),_:1,__:[31]}),m(h,{to:"/register",class:"px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-white/10 dark:hover:bg-gray-700/20 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300",onClick:e[10]||(e[10]=a=>y.value=!1)},{default:b(()=>e[32]||(e[32]=[M(" Register ")])),_:1,__:[32]})],64))]),_:1})])])])),[[d]]):R("",!0),s("main",Yt,[xe(A.$slots,"default")]),s("footer",Xt,[s("div",Kt,[s("p",null,"Â© "+O(new Date().getFullYear())+" TypingRush. All rights reserved.",1)])]),f.value?C((o(),r("div",Qt,[C((o(),r("div",Jt,[e[37]||(e[37]=s("div",{class:"absolute -top-24 -right-24 w-40 h-40 bg-primary-300/20 dark:bg-primary-500/10 rounded-full"},null,-1)),e[38]||(e[38]=s("div",{class:"absolute -bottom-20 -left-20 w-40 h-40 bg-purple-300/20 dark:bg-purple-500/10 rounded-full"},null,-1)),C((o(),r("div",Zt,[e[34]||(e[34]=s("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"Game Rules",-1)),C((o(),r("button",{onClick:e[11]||(e[11]=a=>f.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 p-1 rounded-full hover:bg-white/10 dark:hover:bg-gray-700/20 transition-all duration-300",hover:{rotate:90,transition:{duration:300}}},e[33]||(e[33]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))),[[d]])])),[[d]]),C((o(),r("div",er,e[35]||(e[35]=[we('<p>1. Type the displayed phrase as quickly and accurately as possible.</p><p>2. The timer starts automatically when you begin typing.</p><p>3. Your performance is measured by:</p><ul class="list-disc list-inside pl-4"><li>Words Per Minute (WPM)</li><li>Accuracy percentage</li><li>Number of errors</li></ul><p>4. Letters will be color-coded as you type:</p><ul class="list-disc list-inside pl-4"><li><span class="text-green-500">Green</span> for correct letters</li><li><span class="text-red-500">Red</span> for incorrect letters</li><li><span class="text-gray-500">Gray</span> for letters not yet typed</li></ul><p>5. After completing the phrase, you&#39;ll see your results and can try again with a new phrase.</p>',7)]))),[[d]]),C((o(),r("div",tr,[C((o(),r("button",{onClick:e[12]||(e[12]=a=>f.value=!1),class:"w-full bg-primary-600/90 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-xl backdrop-blur-sm shadow-glass-inner border border-primary-500/30 transition-all duration-300",initial:{scale:1},hover:{scale:1.05,transition:{duration:200}}},e[36]||(e[36]=[M(" Got it! ")]))),[[d]])])),[[d]])])),[[d]])])),[[d]]):R("",!0)])}}};export{nr as default};
